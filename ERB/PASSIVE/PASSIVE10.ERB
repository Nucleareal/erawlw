@PASSIVE_REST_10, ARG, ARG:1

SIF ASSI < 0
	RETURN 0

SIF NO:ASSI != ARG:1
	RETURN 0
	
SIF TALENT:ASSI:(200+ARG:1) == 0
	RETURN 0
	
SIF CFLAG:ASSI:101
	RETURN 0
	
LOCAL = -1
REPEAT CHARANUM
	SIF COUNT == 0
		CONTINUE

	IF BASE:COUNT:0 < MAXBASE:COUNT:0
		LOCAL = 1
		BREAK
	ENDIF
REND

IF LOCAL < 0
	RETURN 0
ENDIF

DRAWLINE
PRINTFORML ――[%TALENTNAME:(200+ARG:1)%]発動――
DRAWLINE

REPEAT CHARANUM
	SIF COUNT == 0
		CONTINUE
		
	SIF COUNT == MASTER || COUNT == ASSI || COUNT == PLAYER
		CONTINUE

	IF BASE:COUNT:0 < MAXBASE:COUNT:0
		BASE:COUNT:0 = MAXBASE:COUNT:0
		PRINTFORML %CALLNAME:COUNT%の体力を上限まで回復しました
	ENDIF
REND

WAIT
DRAWLINE

RETURN 0
