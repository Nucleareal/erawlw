@TEST_GLOOM_FALLEN, ARG

DEBUGPRINTFORML Register[{ARG}],Number[{NO:ARG}]

TRYCCALLFORM GLOOM_FALLEN_TESTCALL_{NO:ARG}
	RETURN 1
CATCH
	RETURN 0
ENDCATCH

;‚±‚±‚É‚Í—ˆ‚È‚¢
RETURN 0

@JUDGE_GLOOM_FALLEN, ARG
TRYCCALLFORM GLOOM_FALLEN_JUDGE_{NO:ARG}, ARG
	SIF RESULT == 0
		RETURN 0
		
	RETURN 1
CATCH
	RETURN 0
ENDCATCH
RETURN 0

@DO_GLOOM_FALLEN, ARG

LOCAL = NO:ARG

DELCHARA ARG
ADDCHARA (LOCAL+64)
TARGET = CHARANUM - 1

TRYCCALLFORM GLOOM_FALLEN_EXTRA_INITIALIZE_{NO:TARGET}
CATCH
ENDCATCH

CALL MESSAGE_EXCHANGE