@ITEM_BOUGHT

IF ITEM:40
	REPEAT CHARANUM
		SIF NO:COUNT != 7
			CONTINUE
		
		IF MAXBASE:COUNT:0 <= 1000
			LOCAL:33 = MAXBASE:COUNT:0
			MAXBASE:COUNT:0 += 1001
			BASE:COUNT:0 = (((BASE:COUNT:0 * 100) / LOCAL:33) * MAXBASE:COUNT:0) / 100
		ENDIF
		
		IF MAXBASE:COUNT:1 <= 1500
			LOCAL:34 = MAXBASE:COUNT:1
			MAXBASE:COUNT:1 += 300
			BASE:COUNT:1 = (((BASE:COUNT:1 * 100) / LOCAL:34) * MAXBASE:COUNT:1) / 100
		ENDIF
	REND
ENDIF

IF ITEM:51
	Z:5 = 0
	CALL DISPLAY_KOJO_JUDGE_LESBIAN_ENDING
	
	SIF Z:5 == 0
		CALL ENDING_MARRY_LESBIAN_JUDGE_INPUT
ENDIF

CALL ITEM_BOUGHT_30
CALL ITEM_BOUGHT_31